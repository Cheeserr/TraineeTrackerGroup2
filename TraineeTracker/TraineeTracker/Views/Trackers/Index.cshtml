@model IEnumerable<TraineeTracker.Models.ViewModels.TrackerViewModel> 

@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

<p>
    <a asp-action="Create">Create New</a>
</p>

@foreach (var item in Model) {
    <div>
        @Html.DisplayNameFor(modelItem => item.Week)
        @Html.DisplayFor(modelItem => item.Week)
        <a asp-action="Edit" asp-route-id="@item.ID">Edit</a> |
        <a asp-action="Details" asp-route-id="@item.ID">Details</a> |
        <a asp-action="Delete" asp-route-id="@item.ID">Delete</a>
    </div>
}
<div>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load("current", { packages: ["corechart"] });
        google.charts.setOnLoadCallback(drawChart);
        function drawChart() {
            var data = google.visualization.arrayToDataTable([
                ['Skills', 'Number'],
                ['Skilled', @Model.Where(x => x.ConsultantSkills == SkillsEnum.SkillsRank.Skilled).Count()],
                ['Partially Skilled', @Model.Where(x => x.ConsultantSkills == SkillsEnum.SkillsRank.Partially_Skilled).Count()],
                ['Low Skilled', @Model.Where(x => x.ConsultantSkills== SkillsEnum.SkillsRank.Low_Skilled).Count()],
                ['Unskilled', @Model.Where(x => x.ConsultantSkills == SkillsEnum.SkillsRank.Unskilled).Count()]
            ]);
            var options = {
                title: 'Spartan Trainee Tracker',
                
            };
            var chart = new google.visualization.PieChart(document.getElementById('piechart'));
            chart.draw(data, options);
        }
    </script>

<div>
    <div id="piechart" style="width: 900px; height: 500px;"></div>
</div>
</div>